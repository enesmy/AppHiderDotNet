<Window x:Class="AppHiderNet.PasswordDialog"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Enter Password" Height="200" Width="350"
        WindowStyle="None"
        ResizeMode="NoResize"
        AllowsTransparency="True"
        Background="Transparent"
        WindowStartupLocation="CenterScreen">
    
    <Border x:Name="MainBorder"
            Background="{StaticResource GlassBackgroundBrush}" 
            BorderBrush="{StaticResource GlassBorderBrush}" 
            BorderThickness="1" 
            CornerRadius="12"
            RenderTransformOrigin="0.5,0.5">
        <Border.RenderTransform>
            <TranslateTransform/>
        </Border.RenderTransform>
        
        <Border.Resources>
            <Storyboard x:Key="ShakeAnimation">
                <DoubleAnimationUsingKeyFrames Storyboard.TargetName="MainBorder" Storyboard.TargetProperty="(UIElement.RenderTransform).(TranslateTransform.X)">
                    <EasingDoubleKeyFrame KeyTime="0:0:0.05" Value="-10"/>
                    <EasingDoubleKeyFrame KeyTime="0:0:0.1" Value="10"/>
                    <EasingDoubleKeyFrame KeyTime="0:0:0.15" Value="-10"/>
                    <EasingDoubleKeyFrame KeyTime="0:0:0.2" Value="10"/>
                    <EasingDoubleKeyFrame KeyTime="0:0:0.25" Value="-5"/>
                    <EasingDoubleKeyFrame KeyTime="0:0:0.3" Value="5"/>
                    <EasingDoubleKeyFrame KeyTime="0:0:0.35" Value="0"/>
                </DoubleAnimationUsingKeyFrames>
            </Storyboard>
        </Border.Resources>

        <Border.Effect>
            <DropShadowEffect Color="Black" BlurRadius="20" ShadowDepth="0" Opacity="0.5"/>
        </Border.Effect>

        <Grid Margin="20">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>

            <TextBlock Text="Enter Password" 
                       Foreground="{StaticResource GlassTextBrush}" 
                       FontSize="18" 
                       FontWeight="Bold" 
                       HorizontalAlignment="Center"
                       Margin="0,0,0,20"/>

            <PasswordBox x:Name="PasswordInput" 
                         Grid.Row="1"
                         Height="35"
                         Margin="0,0,0,10"
                         Background="#20FFFFFF"
                         Foreground="White"
                         BorderBrush="{StaticResource GlassBorderBrush}"
                         BorderThickness="1"
                         Padding="10,5"
                         VerticalContentAlignment="Center">
                <PasswordBox.Resources>
                    <Style TargetType="{x:Type Border}">
                        <Setter Property="CornerRadius" Value="6"/>
                    </Style>
                </PasswordBox.Resources>
            </PasswordBox>

            <TextBlock x:Name="ErrorText" 
                       Grid.Row="2"
                       Text="Incorrect Password!" 
                       Foreground="#FF4444" 
                       FontSize="14" 
                       FontWeight="SemiBold"
                       HorizontalAlignment="Center"
                       Visibility="Collapsed"
                       Margin="0,0,0,10"/>

            <StackPanel Grid.Row="3" Orientation="Horizontal" HorizontalAlignment="Center" VerticalAlignment="Bottom">
                <Button Content="OK" Width="110" Height="35" IsDefault="True" Click="OKButton_Click"/>
                <Button Content="Cancel" Width="110" Height="35" IsCancel="True" Margin="10,0,0,0" Click="CancelButton_Click"/>
            </StackPanel>
        </Grid>
    </Border>
</Window>
